{{ define "main" }}
<div id="home">
<main>
  <h1 class="xxl">Kisaragi Hiu</h1>
  {{ .Content }}
  <!-- We use "where" exclude non-blog pages -->
  <!-- {{ range (where .Site.RegularPages "Section" "blog").GroupByParam "language" }}
             <div class="index-language">
             <h1>{{ partial "func-language-code-to-name" .Key }}</h1>
             {{ range (first 5 .Pages) }}
             {{ partial "index-item" . }}
             {{ end }}
             <a href="/language/{{.Key}}.html">{{.Key}}</a>
             </div> -->
  <!-- {{ end }} -->
  <hr>
  <h1>Recent pages</h1>
  <ul class="index">
    {{ range (where .Site.RegularPages "Section" "") }}
    {{ if .Param "special" }}
    {{ else }}
    <li>{{ partial "index-item" . }}</li>
    {{ end }}
    {{ end }}
  </ul>
  <h1>Recent blog posts</h1>
  <ul class="index">
    {{ range (where .Site.RegularPages "Section" "blog") }}
    <li>{{ partial "index-item" . }}</li>
    {{ end }}
  </ul>
</main>
<aside>
    <h1>Tags</h1>
    <ul class="tags">
        <!-- .Site.Taxonomies.tags -> [weightedPage, weightedPage, ...]
             weightedPage.Page.Permalink (O)
             So we have to pass .Page into the partial. -->
      {{ range .Site.Taxonomies.tags }}
        <li>{{ partial "tag" .Page }}</li>
      {{ end }}
    </ul>
</aside>
</div>
{{ end }}
