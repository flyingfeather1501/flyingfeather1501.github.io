@import "variables";

// Figure in single page
figure.illust {
  // Make the float element contribute to the parent height
  //     display: flow-root;
  // Browser support is at 91.86% as of 2021-06-22.
  //
  // Alternatively, set `overflow` to something that's not "visible". This
  // has support all the way to IE6.
  //
  // All of the above is from https://stackoverflow.com/a/32301823/6927814
  overflow: hidden;
  // box-shadow only shows when inside of the parent element.
  // Use padding to extend the parent and negative margin to bring its
  // size back.
  //
  // Effective margin: 2rem 0 1rem 0, but box-shadow actually shows properly.
  padding: 3rem;
  margin: -1rem -3rem -2rem -3rem;
  img {
    float: left;
    margin-right: 2rem;
    max-width: 60%;
    box-shadow: 0 0 1rem rgba(0, 0, 0, 0.5);
  }
  h1 {
    margin-top: 0;
  }
  @media (max-width: $width-phablet) {
    // Effective margin: 1rem 0 1rem 0, but box-shadow actually shows properly.
    margin: -2rem -3rem -2rem -3rem;
    img {
      float: none;
      margin: 1rem 0;
      max-width: 100%;
    }
  }
}

// "Index", or the grid display
ul.illust-index {
  padding: 0;
  display: flex;
  flex-wrap: wrap;
  li {
    padding: 0;
    list-style: none;
  }
  .item {
    margin-right: 1rem;
    transition: all 100ms ease-in-out;
    img:hover {
      box-shadow: 0 0 1rem rgba(0, 0, 0, 0.5);
    }
    img {
      box-shadow: 0 0 0.5rem rgba(0, 0, 0, 0.5);
      max-height: 6rem;
      max-width: 6rem;
    }
  }
}
